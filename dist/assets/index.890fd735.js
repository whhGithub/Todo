var e=Object.defineProperty,t=Object.defineProperties,a=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,n=(t,a,s)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[a]=s,o=(e,t)=>{for(var a in t||(t={}))i.call(t,a)&&n(e,a,t[a]);if(s)for(var a of s(t))l.call(t,a)&&n(e,a,t[a]);return e},d=(e,s)=>t(e,a(s));import{o as c,c as u,w as r,a as p,u as f,D as k,N as v,S as m,b as h,t as _,d as b,e as y,p as T,f as g,g as w,r as x,h as I,i as O,j,B as E,k as D,l as S,m as F,n as C,q as N,s as P,v as U,x as z,y as B,z as J,A as M,C as q,E as A,F as G,G as H,H as L,I as K}from"./vendor.bf9815b0.js";const Q=h("完成"),R=h("删除"),V={props:{task:Object,taskIndex:Number},emits:["delete","edit","finish"],setup(e,{emit:t}){const a=e=>{const{activeIndex:a}=e;2===a?(t("delete"),e.destroy()):0===a&&(t("finish"),e.destroy())},s=e=>{t("edit")};return(t,i)=>(c(),u(f(y),{class:"task-item-wrapper"},{prefix:r((()=>[p(f(v),{size:"16"},{default:r((()=>[p(f(k))])),_:1})])),default:r((()=>[p(f(b),{"initial-slide":1,"slides-per-view":1,"resistance-ratio":.75,speed:200,onTransitionEnd:a},{default:r((()=>[p(f(m),{class:"finish-slide"},{default:r((()=>[Q])),_:1}),p(f(m),{class:"content-slide",onClick:s},{default:r((()=>[h(_(e.task.content),1)])),_:1}),p(f(m),{class:"delete-slide"},{default:r((()=>[R])),_:1})])),_:1},8,["resistance-ratio"])])),_:1}))}};const W=N();T("data-v-22e5678c");const X=h(" 请添加待办任务 "),Y={class:"extra"},Z=h(" 添加 "),$=p("div",null,"添加任务",-1),ee=h("添加"),te=p("div",null,"编辑任务",-1),ae=h("确定");g();const se={setup(e){const t={content:"",status:"INCOMPLETE"},a=P(),s=w((()=>a.state.list));let i=x(!1),l=x(!1),n=x(t.content),r=x(t.content),k=x(0);const v=()=>{a.commit("addTask",d(o({},t),{id:U(),content:n.value})),i.value=!1,n.value=""},m=()=>{let e=d(o({},t),{id:U(),content:r.value});a.commit("updateTask",{idx:k.value,task:e}),l.value=!1};return(e,t)=>(c(),u("div",null,[p(f(S),{vertical:""},{default:W((()=>[f(s).length?(c(),u(f(I),{key:0},{default:W((()=>[p(f(O),{list:f(s),onStart:t[1]||(t[1]=t=>e.drag=!0),onEnd:t[2]||(t[2]=t=>e.drag=!1),"item-key":"id"},{item:W((({index:e,element:t})=>[p(V,{taskIndex:e,task:t,onDelete:()=>(e=>{a.commit("deleteTask",e)})(e),onFinish:()=>(e=>{a.commit("finishTask",e)})(e),onEdit:()=>{return a=e,s=t.content,l.value=!0,r.value=s,void(k.value=a);var a,s}},null,8,["taskIndex","task","onDelete","onFinish","onEdit"])])),_:1},8,["list"])])),_:1})):(c(),u(f(j),{key:1},{default:W((()=>[X])),_:1})),p("div",Y,[p(f(E),{onClick:t[3]||(t[3]=e=>D(i)?i.value=!0:i=!0)},{default:W((()=>[Z])),_:1})])])),_:1}),p(f(C),{show:f(i),"onUpdate:show":t[5]||(t[5]=e=>D(i)?i.value=e:i=e),preset:"dialog",title:"Dialog","show-icon":!1},{header:W((()=>[$])),action:W((()=>[p(f(E),{onClick:v},{default:W((()=>[ee])),_:1})])),default:W((()=>[p("div",null,[p(f(F),{value:f(n),"onUpdate:value":t[4]||(t[4]=e=>D(n)?n.value=e:n=e),type:"input",placeholder:"请填写任务信息..."},null,8,["value"])])])),_:1},8,["show"]),p(f(C),{show:f(l),"onUpdate:show":t[7]||(t[7]=e=>D(l)?l.value=e:l=e),preset:"dialog",title:"Dialog","show-icon":!1},{header:W((()=>[te])),action:W((()=>[p(f(E),{onClick:m},{default:W((()=>[ae])),_:1})])),default:W((()=>[p("div",null,[p(f(F),{value:f(r),"onUpdate:value":t[6]||(t[6]=e=>D(r)?r.value=e:r=e),type:"input",placeholder:"请填写任务信息..."},null,8,["value"])])])),_:1},8,["show"])]))},__scopeId:"data-v-22e5678c"};const ie=h("回档"),le=h("回档"),ne={props:{task:Object,taskIndex:Number},emits:["back"],setup(e,{emit:t}){const a=e=>{const{activeIndex:a}=e;(2===a||0===a)&&(t("back"),e.destroy())};return(t,s)=>(c(),u(f(y),{class:"task-item-wrapper"},{prefix:r((()=>[p(f(v),{size:"16"},{default:r((()=>[p(f(k))])),_:1})])),default:r((()=>[p(f(b),{"initial-slide":1,"slides-per-view":1,"resistance-ratio":.75,speed:200,onTransitionEnd:a},{default:r((()=>[p(f(m),{class:"back-slide"},{default:r((()=>[ie])),_:1}),p(f(m),{class:"content-slide"},{default:r((()=>[h(_(e.task.content),1)])),_:1}),p(f(m),{class:"back1-slide"},{default:r((()=>[le])),_:1})])),_:1},8,["resistance-ratio"])])),_:1}))}};const oe=N(),de={setup(e){const t=P(),a=w((()=>t.state.finish));return(e,s)=>(c(),u(f(S),{vertical:""},{default:oe((()=>[f(a).length?(c(),u(f(I),{key:0},{default:oe((()=>[p(f(O),{list:f(a),onStart:s[1]||(s[1]=t=>e.drag=!0),onEnd:s[2]||(s[2]=t=>e.drag=!1),"item-key":"id"},{item:oe((({index:e,element:a})=>[p(ne,{taskIndex:e,task:a,onBack:()=>(e=>{t.commit("backTask",e)})(e)},null,8,["taskIndex","task","onBack"])])),_:1},8,["list"])])),_:1})):z("",!0)])),_:1}))},__scopeId:"data-v-4b7697da"};var ce=B({history:J(),routes:[{path:"/",name:"main",component:se},{path:"/archive",name:"archive",component:de},{path:"/:pathMatch(.*)",redirect:"/"}]});const ue=M({state:()=>({list:[],finish:[]}),mutations:{addTask(e,t){e.list.unshift(t)},updateTask(e,t){e.list[t.idx]=t.task},updateTasks(e,t){console.log(t),e.list=t},updateFinishTasks(e,t){console.log(t),e.finish=t},deleteTask(e,t){e.list.splice(t,1)},finishTask(e,t){e.finish.unshift(e.list[t]),ue.commit("deleteTask",t)},backTask(e,t){e.list.unshift(e.finish[t]),ue.commit("deleteFinishTask",t)},deleteFinishTask(e,t){e.finish.splice(t,1)}}});const re=N();T("data-v-468c60c3");const pe={id:"app"},fe=p("h1",null,"mini TO-DO",-1),ke=h("首页"),ve=h("归档页");g();const me={setup(e){const t=P();return q((()=>{let e=localStorage.getItem("myData");e&&(e=JSON.parse(e),t.commit("updateTasks",e[0]),t.commit("updateFinishTasks",e[1]))})),window.onbeforeunload=e=>{let a=[t.state.list,t.state.finish];localStorage.setItem("myData",JSON.stringify(a))},(e,t)=>{const a=L("router-link"),s=L("router-view");return c(),u("div",pe,[p(f(H),null,{default:re((()=>[p(f(A),null,{default:re((()=>[fe,p(a,{to:"/"},{default:re((()=>[p(f(E),null,{default:re((()=>[ke])),_:1})])),_:1}),p(a,{to:"/archive"},{default:re((()=>[p(f(E),null,{default:re((()=>[ve])),_:1})])),_:1})])),_:1}),p(f(G),null,{default:re((()=>[p(s)])),_:1})])),_:1})])}},__scopeId:"data-v-468c60c3"};K(me).use(ce).use(ue).mount("#app");
